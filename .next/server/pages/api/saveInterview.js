"use strict";(()=>{var e={};e.id=382,e.ids=[382],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},5745:(e,a,t)=>{t.r(a),t.d(a,{config:()=>d,default:()=>o,routeModule:()=>l});var i={};t.r(i),t.d(i,{default:()=>handler});var n=t(1802),r=t(7153),s=t(6249);function handler(e,a){if("POST"!==e.method)return a.status(405).json({message:"Metoda niedozwolona. Dozwolone tylko POST."});let{form:t,interviewData:i,lang:n}=e.body;if(!t||!i)return a.status(400).json({message:"Brakuje danych formularza lub wywiadu."});let r=["age","sex","weight","height"].filter(e=>!t[e]);if(r.length>0)return a.status(400).json({message:"Brakuje wymaganych danych pacjenta.",missing:r});let s={id:Date.now(),createdAt:new Date().toISOString(),language:n||"pl",patient:{age:t.age,sex:t.sex,weight:t.weight,height:t.height,allergies:t.allergies||"",region:t.region||"",conditions:t.conditions||[],medical:t.medical||[]},interview:{...i}};return console.log("\uD83D\uDCE5 Zapisano pełny wywiad:",JSON.stringify(s,null,2)),a.status(200).json({message:"Wywiad pacjenta został zapisany.",recordId:s.id,createdAt:s.createdAt})}let o=(0,s.l)(i,"default"),d=(0,s.l)(i,"config"),l=new n.PagesAPIRouteModule({definition:{kind:r.x.PAGES_API,page:"/api/saveInterview",pathname:"/api/saveInterview",bundlePath:"",filename:""},userland:i})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[222],()=>__webpack_exec__(5745));module.exports=t})();