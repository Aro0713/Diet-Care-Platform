(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(1650)}])},1650:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return LoginPage}});var n=a(5893),i=a(7294),r=a(1163);function LoginPage(){let e=(0,r.useRouter)(),[t,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(null),[o,u]=(0,i.useState)("patient");return(0,i.useEffect)(()=>{let t=e.query.role;t&&"string"==typeof t&&u(t)},[e.query.role]),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100 p-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Logowanie"}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded shadow max-w-lg space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block font-semibold mb-1",children:"Wybierz rolę"}),(0,n.jsxs)("select",{className:"w-full border px-3 py-2",value:o,onChange:e=>u(e.target.value),children:[(0,n.jsx)("option",{value:"doctor",children:"Lekarz / Dietetyk"}),(0,n.jsx)("option",{value:"patient",children:"Pacjent"}),(0,n.jsx)("option",{value:"admin",children:"Admin"})]})]}),"patient"===o&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block font-semibold mb-1 mt-4",children:"ID pacjenta"}),(0,n.jsx)("input",{type:"text",className:"w-full border px-3 py-2",value:t,onChange:e=>a(e.target.value),placeholder:"np. PAT123456"})]}),(0,n.jsx)("button",{onClick:()=>{if("admin"===o){let t=prompt("\uD83D\uDD10 Podaj hasło administratora:");if("admin123"!==t){l("❌ Nieprawidłowe hasło administratora.");return}e.push("/admin");return}if("doctor"===o){e.push("/panel");return}let a=localStorage.getItem("patientData");if(!a){l("Brak danych pacjenta. Zarejestruj się.");return}let n=JSON.parse(a),i=new Date,r=new Date(n.expiresAt);if(n.patientID!==t){l("Nieprawidłowy ID pacjenta.");return}if(i>r){l("⛔ Subskrypcja wygasła. Skontaktuj się z administratorem.");return}l(null),e.push("/patient")},className:"bg-blue-600 text-white px-4 py-2 rounded w-full mt-4",children:"Zaloguj"}),s&&(0,n.jsx)("p",{className:"text-red-600 font-semibold mt-2",children:s})]})]})}},1163:function(e,t,a){e.exports=a(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);