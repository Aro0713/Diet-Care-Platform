(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{8333:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscription",function(){return t(3839)}])},3839:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Subscription}});var s=t(5893),n=t(7294),c=t(8826),i=t(7583),r=t(848);let u=["function subscribe() external","function isSubscribed(address) view returns (bool)"];function Subscription(){let[e,a]=(0,n.useState)(""),[t,l]=(0,n.useState)(null),[b,o]=(0,n.useState)(!1),d=new c.r6("http://127.0.0.1:9545"),p=new i.CH("0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",u,d),checkStatus=async()=>{if(e)try{o(!0);let a=await p.isSubscribed(e);l(a)}catch(e){console.error("Błąd sprawdzania subskrypcji:",e),l(null)}finally{o(!1)}},subscribeOnChain=async()=>{try{o(!0);let e=new r.w("0x4f3edf983ac636a65a842ce7c78d9aa706d3b113bce03804f3ede5e5bb7caa66",d),a=p.connect(e),t=await a.subscribe();await t.wait(),l(!0)}catch(e){console.error("Błąd aktywacji subskrypcji:",e)}finally{o(!1)}},simulatePaymentAndSubscribe=async()=>{alert("\uD83D\uDD14 Symulacja: płatność kartą zaakceptowana"),await subscribeOnChain()};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Panel Subskrypcyjny"}),(0,s.jsx)("input",{type:"text",placeholder:"Wklej adres portfela...",className:"w-full max-w-lg border px-4 py-2 mb-4",value:e,onChange:e=>a(e.target.value)}),(0,s.jsxs)("div",{className:"space-x-4 mb-4",children:[(0,s.jsx)("button",{onClick:checkStatus,disabled:b||!e,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Sprawdź status"}),(0,s.jsx)("button",{onClick:subscribeOnChain,disabled:b||!e,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Aktywuj blockchainem"}),(0,s.jsx)("button",{onClick:simulatePaymentAndSubscribe,disabled:b||!e,className:"bg-purple-600 text-white px-4 py-2 rounded",children:"Opłać kartą (symulacja)"})]}),"boolean"==typeof t&&(0,s.jsxs)("p",{className:"mt-4 text-lg",children:["Status: ",t?"✅ Aktywna subskrypcja":"❌ Brak subskrypcji"]})]})}}},function(e){e.O(0,[961,774,888,179],function(){return e(e.s=8333)}),_N_E=e.O()}]);